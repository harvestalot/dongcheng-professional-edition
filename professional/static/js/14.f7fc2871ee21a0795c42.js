webpackJsonp([14],{DCH9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={components:{},data:function(){return{mainMapLayer:this.$parent.mapLayerOption.base,timelineHeatLayer:this.$parent.viewLayerOption.timelineHeat,currentTime:"00:00",time_line_data:[{time:"00:00",time_point:!0,current_time_point:!1},{time:"01:00",time_point:!0,current_time_point:!1},{time:"02:00",time_point:!0,current_time_point:!1},{time:"03:00",time_point:!0,current_time_point:!1},{time:"04:00",time_point:!0,current_time_point:!1},{time:"05:00",time_point:!0,current_time_point:!1},{time:"06:00",time_point:!0,current_time_point:!1},{time:"07:00",time_point:!0,current_time_point:!1},{time:"08:00",time_point:!0,current_time_point:!1},{time:"09:00",time_point:!0,current_time_point:!1},{time:"10:00",time_point:!0,current_time_point:!1},{time:"11:00",time_point:!0,current_time_point:!1},{time:"12:00",time_point:!0,current_time_point:!1},{time:"13:00",time_point:!0,current_time_point:!1},{time:"14:00",time_point:!0,current_time_point:!1},{time:"15:00",time_point:!0,current_time_point:!1},{time:"16:00",time_point:!0,current_time_point:!1},{time:"17:00",time_point:!0,current_time_point:!1},{time:"18:00",time_point:!0,current_time_point:!1},{time:"19:00",time_point:!0,current_time_point:!1},{time:"20:00",time_point:!0,current_time_point:!1},{time:"21:00",time_point:!0,current_time_point:!1},{time:"22:00",time_point:!0,current_time_point:!1},{time:"23:00",time_point:!0,current_time_point:!1}]}},computed:{},watch:{},mounted:function(){var t=this;this.get_people_activities_layer(),this.time_line_data.filter(function(e){return e.time===t.currentTime})[0].current_time_point=!0;var e=0;this.$Basice.timer=setInterval(function(){console.log(e),e++,t.currentTime=t.time_line_data[e].time,t.time_line_data.forEach(function(t){t.current_time_point=!1}),t.time_line_data.filter(function(e){return e.time===t.currentTime})[0].current_time_point=!0,t.get_people_activities_layer(),23===e&&(e=0)},5e3)},methods:{get_people_activities_layer:function(){var t=this;this.http.getLocalhostJson("/static/json/monitor/people_activities.csv",function(e){var i=t;t.timelineHeatLayer.setData(e,{value:function(t){if(t){var e=t[i.currentTime];return e}},lnglat:function(t){if(t.value){var e=t.value,i=wgs84togcj02(e.LON,e.LAT);return i}},type:"csv"}),t.timelineHeatLayer.setOptions({style:{radius:18,color:{.1:"#2892C6",.2:"#81B3AA",.3:"#BFD38B",.4:"#FAFA64",.5:"#FCB344",.7:"#FD0100",1:"#A80000"}}}),t.timelineHeatLayer.render(),t.timelineHeatLayer.show()})},get_timeline:function(){var t=echarts.init(document.getElementById("timeline")),e={timeline:{left:10,right:10,bottom:10,axisType:"category",autoPlay:!0,playInterval:5e3,controlStyle:{position:"right",showNextBtn:!1,showPrevBtn:!1,itemGap:20,color:"#F0B33C",borderColor:"#F0B33C"},data:this.time_line_data,checkpointStyle:{symbolSize:16,color:"#F0B33C"},lineStyle:{color:"#F0B33C"},label:{color:"#fff",lineHeight:30}}};t.setOption(e,!0);var i=this;console.log(window),t.off("timelinechanged"),t.on("timelinechanged",function(t){console.log(t),i.currentTime=i.time_line_data[t.currentIndex],i.get_people_activities_layer()})}},created:function(){}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main_content"},[t._m(0),t._v(" "),i("div",{staticClass:"timeline",attrs:{id:"timeline"}},[i("a-row",t._l(t.time_line_data,function(e,n){return i("a-col",{key:n,attrs:{span:1}},[i("p",{staticClass:"time_line_style"},[i("span",{class:{time_point:e.time_point,current_time_point:e.current_time_point}})]),t._v("\n                "+t._s(e.time)+"\n            ")])}),1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"echarts_content"},[e("div",{staticClass:"echarts_content_sub"})])}]};var o=i("VU/8")(n,r,!1,function(t){i("NMNb")},"data-v-4b78b4fd",null);e.default=o.exports},NMNb:function(t,e){}});