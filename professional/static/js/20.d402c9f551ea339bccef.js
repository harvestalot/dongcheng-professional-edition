webpackJsonp([20],{cmo2:function(t,e){},i25Z:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),s={components:{},data:function(){return{mainMapLayer:this.$parent.mapLayerOption.base,markers:[],company_total:0,pie_chart_data:[],current_enterprise_type:"",street_names:[],format_street_names:{andingmen:"安定门",beixinqiao:"北新桥",chaoyangmen:"朝阳门",chongwenmenwai:"崇文门外",donghuamen:"东华门",donghuashi:"东花市",dongsi:"东四",dongzhimen:"东直门",hepingli:"和平里",jianguomen:"建国门",jiaodaokou:"交道口",jingshan:"景山",longtan:"龙潭",qianmen:"前门",tiantan:"天坛",tiyugan:"体育馆",yongdingmenwai:"永定门外"},registered_capital_data:[],company_data:[],ranking_list_data:{}}},computed:{},watch:{},created:function(){},mounted:function(){this.get_company_data(),this.get_industry_developing_compamy_layer()},methods:{get_industry_developing_compamy_layer:function(){var t=this;this.http.getLocalhostJson("../../../../static/json/publicSpace/Hutong_sanitation.json",function(e){for(var a=0;a<e.length;a++){var n=e[a],i=new AMap.Marker({map:t.mainMapLayer,icon:new AMap.Icon({size:new AMap.Size(16,16),image:"../../../../static/img/publicSpace/huishou.png",imageOffset:new AMap.Pixel(0,0),imageSize:new AMap.Size(-8,-8)}),position:n.lnglat,offset:new AMap.Pixel(-10,-10),extData:n.properties});t.markers.push(i)}})},get_company_data:function(){var t=this;this.http.get("Enterprise/getCommpanyNumber",{},function(e){if(e.success){var a=JSON.parse(Decrypt(e.data.results.key));t.company_data=a,t.http.get("Enterprise/getCommpanyRegister",{},function(e){if(e.success){var n=JSON.parse(Decrypt(e.data.results.key));t.registered_capital_data=n,t.get_view_data(a)}})}})},get_community_enterprise:function(){var t=this,e=this.company_data.filter(function(e){return e.type===t.current_enterprise_type}),a=this.registered_capital_data.filter(function(e){return e.type===t.current_enterprise_type});for(var n in e[0])"type"!==n&&"id"!==n&&"total"!==n&&(this.ranking_list_data[this.format_street_names[n]]=[e[0][n],a[0][n]])},get_view_data:function(t){for(var e=0;e<t.length;e++){var a=t[e];this.company_total+=1*a.total,this.pie_chart_data.push({name:a.type,value:1*a.total})}this.current_enterprise_type=this.pie_chart_data[0].name,this.get_community_enterprise(),this.load_industrial_development_pie_chart()},load_industrial_development_pie_chart:function(){var t=echarts.init(document.getElementById("industrial_development_pie_content")),e={color:this.$Basice.colors,title:[i()({text:"街道各类企业占比数"},this.$Basice.echart_title),{text:this.company_total,subtext:"企业数量",textStyle:{fontSize:28,color:"#f0b33c"},subtextStyle:{fontSize:16,color:"#222"},textAlign:"center",x:"34.5%",y:"44%"}],tooltip:{trigger:"item",formatter:function(t){return t.seriesName+"</br>"+t.data.name+"</br>数量："+t.data.value+"</br>占比："+t.percent+"%"}},legend:{type:"scroll",orient:"vertical",right:"5%",align:"left",top:"middle",textStyle:{color:"#8C8C8C"},height:200,pageIconColor:"#f0b33c",pageIconInactiveColor:"#2f4554",formatter:function(t){return t.slice(0,3)+"..."}},series:[{name:"企业",type:"pie",center:["35%","50%"],radius:["30%","45%"],clockwise:!1,avoidLabelOverlap:!1,label:{normal:{show:!0,position:"outter",formatter:function(t){return t.data.name.slice(0,3)+"..."}}},labelLine:{normal:{show:!0,length:10,length2:5,smooth:!0}},data:this.pie_chart_data}]};t.setOption(e,!0),t.dispatchAction({type:"pieSelect",seriesIndex:0,dataIndex:0}),t.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:0});var a=this;t.on("click",function(e){t.dispatchAction({type:"pieUnSelect",seriesIndex:0,dataIndex:0}),t.dispatchAction({type:"hideTip",seriesIndex:0,dataIndex:0}),a.current_enterprise_type=e.name,a.get_community_enterprise()}),window.onresize=function(){t.resize()}}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main_content"},[a("div",{staticClass:"echarts_content animated fadeInRight"},[a("div",{staticClass:"echarts_content_sub"},[t._m(0),t._v(" "),a("div",{staticClass:"chart_content_box"},[a("div",{staticClass:"h_100",attrs:{id:"ranking_list_content"}},[a("div",{staticClass:"ml_15 mb_10 ft_16"},[a("span",{staticClass:"main_c"},[t._v("[ "+t._s(t.current_enterprise_type)+" ]")]),t._v(" 的企业数量和资本看板")]),t._v(" "),a("div",{staticClass:"ranking_list"},[a("div",{staticClass:"ranking_list_overflow"},t._l(t.ranking_list_data,function(e,n,i){return a("a-row",{key:i,staticClass:"ranking_item"},[a("a-col",{attrs:{span:5,offset:1}},[t._v(t._s(n))]),t._v(" "),a("a-col",{attrs:{span:5}},[t._v(t._s(e[0]))]),t._v(" "),a("a-col",{attrs:{span:13}},[t._v(t._s(e[1]))])],1)}),1)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chart_content_box"},[e("div",{staticClass:"h_100",attrs:{id:"industrial_development_pie_content"}})])}]};var o=a("VU/8")(s,r,!1,function(t){a("cmo2")},"data-v-1263084e",null);e.default=o.exports}});