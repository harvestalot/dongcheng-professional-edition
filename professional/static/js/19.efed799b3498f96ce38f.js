webpackJsonp([19],{A6kK:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={components:{},data:function(){return{heatLayer:this.$parent.viewLayerOption.heat,social_public_opinion_type_data:[],type_name:"街面秩序",ranking_list_data:[],type_heatmap_data:[]}},computed:{},watch:{},methods:{onChangeSocialPublicOpinion:function(t){this.type_name=t,this.get_community_problem_heat_layer_data()},get_community_problem_type_data:function(){var t=this;this.http.get("lawCase/getBigType",{},function(a){if(a.success){var e=JSON.parse(Decrypt(a.data.results.key));t.social_public_opinion_type_data=e}})},get_community_problem_data:function(){var t=this;this.http.get("lawCase/getTopByType",{},function(a){if(a.success){var e=JSON.parse(Decrypt(a.data.results.key));t.ranking_list_data=e}})},get_community_problem_heat_layer_data:function(){var t=this;this.http.get("lawCase/getListByBigType",{bigType:this.type_name},function(a){if(a.success){var e=JSON.parse(Decrypt(a.data.results.key));t.get_view_data(e)}})},get_view_data:function(t){this.type_heatmap_data=[];for(var a=0;a<t.length;a++){var e=t[a];this.type_heatmap_data.push({value:e.TOTAL_NUMBER,lnglat:wgs84togcj02(e.LONGITUDE,e.LATITUDE)})}this.load_community_problem_heat_layer()},load_community_problem_heat_layer:function(){this.heatLayer.setData(this.type_heatmap_data,{lnglat:"lnglat"}),this.heatLayer.setOptions({style:{radius:30,color:{.5:"#2c7bb6",.65:"#abd9e9",.7:"#ffffbf",.9:"#fde468",1:"#d7191c"}}}),this.heatLayer.render(),this.heatLayer.show()}},created:function(){this.get_community_problem_type_data(),this.get_community_problem_data()},mounted:function(){}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main_content"},[e("div",{staticClass:"layer_content"},[e("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择舆情类型",allowClear:""},on:{change:t.onChangeSocialPublicOpinion}},t._l(t.social_public_opinion_type_data,function(a){return e("a-select-option",{key:a.TYPE_BIG,attrs:{value:a.TYPE_BIG}},[t._v(t._s(a.TYPE_BIG))])}),1)],1),t._v(" "),e("div",{staticClass:"echarts_content animated fadeInRight"},[e("div",{staticClass:"echarts_content_sub"},[e("div",{staticClass:"h_100",attrs:{id:"ranking_list_content"}},[e("div",{staticClass:"ml_15 mb_10 ft_16"},[t._v("各类型的案件看板")]),t._v(" "),e("div",{staticClass:"ranking_list"},[e("div",{staticClass:"ranking_list_overflow"},t._l(t.ranking_list_data,function(a,i,n){return e("a-row",{key:n,staticClass:"ranking_item"},[e("a-tooltip",{attrs:{title:i}},[e("a-col",{attrs:{span:6}},[t._v("  "+t._s(i)+"：")])],1),t._v(" "),t._l(a,function(a){return e("span",{key:a.STREET_NAME},[e("a-tooltip",{attrs:{title:a.STREET_NAME}},[e("a-col",{attrs:{span:3}},[t._v(t._s(a.STREET_NAME))])],1),t._v(" "),e("a-col",{attrs:{span:3}},[t._v(t._s((100*a["COUNT_NUMBER/TOTAL"]).toFixed(1))+"%")])],1)})],2)}),1)])])])])])},staticRenderFns:[]};var s=e("VU/8")(i,n,!1,function(t){e("ISW8")},"data-v-2d332bee",null);a.default=s.exports},ISW8:function(t,a){}});